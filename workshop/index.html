<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vasuki iTech | The Future of Creative Engineering</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
@font-face {
    font-family: 'BrandFont';
    src: url('./custom.ttf');
}

:root {
    --accent: #A24E32; /* Burnt Sienna */
    --accent-hover: #8A3D26;
    --bg: #ffffff;
    --bg-sec: #FDF8F6; /* Very light sienna tint */
    --text-main: #2D1A15; /* Deep earthy brown */
    --text-sec: #7A635E;
    --border: #E8DED9;
    --glass: rgba(255, 255, 255, 0.92);
    --success: #4A7C59;
}

* { box-sizing: border-box; -webkit-font-smoothing: antialiased; margin: 0; padding: 0; }

body {
    background: var(--bg);
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif;
    line-height: 1.5;
}

/* --- NAVIGATION --- */
header {
    height: 60px;
    background: var(--glass);
    backdrop-filter: saturate(180%) blur(20px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 6%;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 9999;
    border-bottom: 1px solid var(--border);
}

.nav-brand { 
    font-family: 'BrandFont', sans-serif; 
    font-size: 22px; 
    font-weight: 700; 
    color: var(--accent);
}

.nav-cta { 
    background: var(--accent); 
    color: white; 
    padding: 10px 20px; 
    border-radius: 50px; 
    font-size: 14px; 
    text-decoration: none; 
    font-weight: 600; 
    transition: background 0.2s;
}

.nav-cta:hover { background: var(--accent-hover); }

/* --- HERO SECTION --- */
.hero {
    text-align: center;
    padding: 160px 24px 80px;
    background: radial-gradient(circle at top, #FFF4F0 0%, #ffffff 70%);
}

.badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: #FFF1EC;
    color: var(--accent);
    padding: 10px 20px;
    border-radius: 100px;
    font-size: 14px;
    font-weight: 700;
    margin-bottom: 28px;
    letter-spacing: 0.02em;
    text-transform: uppercase;
}

.hero h1 {
    font-family: 'BrandFont', sans-serif;
    font-size: clamp(40px, 8vw, 68px);
    line-height: 1.1;
    font-weight: 800;
    letter-spacing: -0.02em;
    margin-bottom: 24px;
    color: var(--text-main);
}

.hero p {
    max-width: 680px;
    margin: 0 auto;
    color: var(--text-sec);
    font-size: clamp(18px, 2.5vw, 22px);
    font-weight: 400;
}

/* --- FEATURES SECTION --- */
.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 40px;
    max-width: 1200px;
    margin: 0 auto 120px;
    padding: 0 24px;
}

.feat-card {
    background: var(--bg-sec);
    padding: 48px;
    border-radius: 32px;
    text-align: left;
    border: 1px solid transparent;
    transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}

.feat-card:hover { 
    border-color: var(--accent); 
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(162, 78, 50, 0.08);
}

.feat-card svg { width: 40px; height: 40px; color: var(--accent); margin-bottom: 24px; }
.feat-card h3 { font-size: 24px; margin-bottom: 14px; color: var(--text-main); font-weight: 700; }
.feat-card p { color: var(--text-sec); font-size: 17px; line-height: 1.6; }

/* --- ENROLLMENT SECTION --- */
.enroll-container {
    background: var(--text-main); /* Deep dark brown for contrast */
    color: #fff;
    padding: 120px 24px;
}

.card {
    max-width: 520px;
    margin: 0 auto;
    background: #3D2924; /* Lighter brown for card depth */
    padding: 50px 40px;
    border-radius: 40px;
    border: 1px solid #4D3934;
}

.price-box { margin-bottom: 36px; }
.old-price { text-decoration: line-through; color: #8A736E; font-size: 22px; }
.new-price { font-size: 60px; font-weight: 800; display: block; color: #fff; margin: 5px 0; }

input {
    width: 100%;
    height: 60px;
    padding: 0 22px;
    border-radius: 16px;
    border: 1px solid #5A443E;
    background: #4D3934;
    color: #fff;
    font-size: 17px;
    margin-bottom: 16px;
    outline: none;
    transition: 0.2s;
}

input:focus { border-color: var(--accent); background: #5A443E; }
input::placeholder { color: #8A736E; }

button {
    width: 100%;
    height: 60px;
    border-radius: 30px;
    border: none;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s, opacity 0.2s;
}

button:active { transform: scale(0.97); }

.pay { background: var(--accent); color: white; margin-top: 10px; }
.pay:hover { background: var(--accent-hover); }

.submit { background: #fff; color: var(--text-main); margin-top: 32px; }

#qrBox {
    display: none;
    margin: 28px 0;
    padding: 28px;
    background: #fff;
    border-radius: 24px;
    color: #000;
}

/* --- TOASTS --- */
#toast-container { position: fixed; top: 80px; right: 24px; z-index: 10000; }
.toast {
    min-width: 320px; background: #fff; border-radius: 20px; padding: 20px;
    box-shadow: 0 25px 60px rgba(0,0,0,0.18); display: flex; align-items: center;
    gap: 15px; border: 1px solid var(--border); margin-bottom: 12px;
    transform: translateX(140%); transition: 0.6s cubic-bezier(0.19, 1, 0.22, 1);
    color: var(--text-main); font-weight: 500;
}
.toast.show { transform: translateX(0); }

@media (max-width: 734px) {
    header { padding: 0 20px; }
    .hero h1 { font-size: 42px; }
    .card { padding: 40px 24px; }
    .hero { padding-top: 120px; }
}
</style>
</head>

<body>

<header>
    <div class="nav-brand">Vasuki iTech</div>
    <a href="#enroll" class="nav-cta">Secure Spot</a>
</header>

<div id="toast-container"></div>

<section class="hero">
    <div class="badge">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
        Elite Coding Workshop
    </div>
    <h1>Build the future, <br> one line at a time.</h1>
    <p>Join <strong>Vasuki iTech</strong> for a masterclass designed to turn curious minds into creative engineers. Every masterpiece starts with a single tag.</p>
</section>

<section class="features">
    <div class="feat-card">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
        <h3>Logic First</h3>
        <p>We don't just teach code; we teach the architecture of thinking. Essential for math and science success.</p>
    </div>
    <div class="feat-card">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg>
        <h3>Digital Literacy</h3>
        <p>In a world run by software, understanding HTML/CSS is as fundamental as reading or writing.</p>
    </div>
    <div class="feat-card">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
        <h3>Real Projects</h3>
        <p>Your child will build a live project during the workshop, creating instant pride and confidence.</p>
    </div>
</section>

<section class="enroll-container" id="enroll">
    <div class="card">
        <div class="price-box">
            <span class="old-price">Worth ₹1,999</span>
            <span class="new-price">₹399</span>
            <p style="color: #FFB399; font-size: 15px; margin-top: 10px; font-weight: 700;">Limited Time Parent Offer</p>
        </div>

        <input id="name" placeholder="Student's Name">
        <input id="email" placeholder="Email Address" type="email">
        <input id="phone" placeholder="WhatsApp Number" type="tel">

        <button class="pay" onclick="pay()">Pay Now & Enroll</button>

        <div id="qrBox">
            <p style="font-size:15px; margin-bottom: 14px; font-weight: 700;">Scan QR to complete payment</p>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=raomaheshwarimegha-4@okhdfcbank%26pn=Vasuki%20iTech%20Workshop%26am=399%26cu=INR">
        </div>

        <div style="margin-top: 36px; border-top: 1px solid #5A443E; padding-top: 36px;">
            <input id="txn" placeholder="Transaction ID (Mandatory)">
            <button class="submit" onclick="register()">Confirm Registration</button>
        </div>
        
        <p style="font-size: 13px; color: #8A736E; margin-top: 24px; display: flex; align-items: center; justify-content: center; gap: 6px;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
            Secure 256-bit Encrypted Enrollment
        </p>
    </div>
</section>

<script>
function notify(msg, type = 'success') {
    const container = document.getElementById('toast-container');
    const toast = document.createElement('div');
    toast.className = 'toast';
    const color = type === 'success' ? '#4A7C59' : '#A24E32';
    toast.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> <span style="flex-grow:1">${msg}</span> <span onclick="this.parentElement.remove()" style="cursor:pointer; font-size: 24px; color:#D2C1BC">&times;</span>`;
    container.appendChild(toast);
    setTimeout(() => toast.classList.add('show'), 10);
    setTimeout(() => { toast.classList.remove('show'); setTimeout(() => toast.remove(), 600); }, 4500);
}

const BACKEND = "https://vasuki-cloud-backend-production.up.railway.app";
const OWNER = "codeclutch.adamyarao@gmail.com";
const FOLDER = "workshop-registrations";

function pay() {
    const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    if (isMobile) {
        location.href = "upi://pay?pa=raomaheshwarimegha-4@okhdfcbank&pn=" + encodeURIComponent("Vasuki iTech Workshop") + "&am=399&cu=INR";
    } else {
        document.getElementById("qrBox").style.display = "block";
        document.getElementById("qrBox").style.textAlign = "center";
        notify("QR Code displayed. Please scan and complete payment.");
    }
}

async function register() {
    const nameVal = document.getElementById("name").value.trim();
    const emailVal = document.getElementById("email").value.trim();
    const phoneVal = document.getElementById("phone").value.trim();
    const txnVal = document.getElementById("txn").value.trim();

    if (!nameVal || !emailVal || !phoneVal || !txnVal) {
        notify("All fields are required to secure your spot.", "error");
        return;
    }

    notify("Submitting your application...");
    
    let data = [];
    try {
        const res = await fetch(`${BACKEND}/download/${OWNER}/${FOLDER}/registration.json`);
        if (res.ok) data = await res.json();
    } catch {}

    data.push({
        name: nameVal, email: emailVal, phone: phoneVal, transaction_id: txnVal,
        amount: 399, timestamp: new Date().toISOString()
    });

    const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
    const form = new FormData();
    form.append("email", OWNER);
    form.append("folder", FOLDER);
    form.append("files", blob, "registration.json");

    try {
        const up = await fetch(`${BACKEND}/upload`, { method: "POST", body: form });
        if(up.ok) {
            notify("Welcome to Vasuki iTech! Registration Success.");
            document.querySelectorAll('input').forEach(i => i.value = "");
        } else throw Error();
    } catch (e) {
        notify("Network error. Please check your connection.", "error");
    }
}
</script>

</body>
</html>
